<!DOCTYPE html>
<html>
<body>
<h1>Kalvium Backend task</h1>
<h2>Aman Kumar-RA2011026010226</h2>
<p><input type="text" id="urlinp" size="50" placeholder="Enter Url"></p>
<button onclick="urlpass()">Process URL</button>
<p id="op">Add Operations in url to see output</p>
<p id="json_op"></p>


<script>

function urlpass() {
 var x = document.getElementById("urlinp").value ;
 if(x)
 {
 	
		 let url=new URL(x);	
		 let path = url.pathname.split('/').slice(1);
		 
		 var num1=0;
		var text ={ "question":" ","answer":" "};

		for ( let i = 0; i < path.length; i++)
			{ 
				if(path[i]=='plus')
				{   
				    var output=num1+parseInt(path[++i]);
				    let v1=text.question;
					if(v1!=" ")
						text.question =v1+"+"+path[i];
					else 
						text.question =num1+"+"+path[i];
					text.answer = output;
					num1=output;
					
				}
				else if( path[i]=='minus')
				{
					var output=num1-parseInt(path[++i]);
					let v1=text.question;
					if(v1!=" ")
						text.question =v1+"-"+path[i];
					else 
						text.question =num1+"-"+path[i];
					text.answer = output;
					num1=output;
					
				}
				else if( path[i]=='into')
				{
					var output=num1*parseInt(path[++i]);
					let v1=text.question;
					if(v1!=" ")
						text.question =v1+"*"+path[i];
					else 
						text.question =num1+"*"+path[i];
					
					text.answer = output;
					num1=output;
					
				}
				else if( path[i]=='by')
				{
					var output=num1/parseInt(path[++i]);
					let v1=text.question;

					if(v1!=" ")
						text.question =v1+"/"+path[i];
					else 
						text.question =num1+"/"+path[i];

					
					text.answer = output;
					num1=output;
					
				}
				else if( path[i]=='mod')
				{
					var output=num1%parseInt(path[++i]);
					let v1=text.question;
					if(v1!=" ")
						text.question =v1+"%"+path[i];
					else 
						text.question =num1+"%"+path[i];

					
					text.answer = output;
					num1=output;
					
				}
				else
				{
					num1=parseInt(path[i]);
				}
			}

			if(text.question!=" ")
			{
			console.log(text);
			document.getElementById("op").innerHTML = "String Output <br>"+ text.question+" = "+text.answer;
			document.getElementById("json_op").innerHTML = "JSON Output <br>"+ JSON.stringify(text, undefined, 2);
		   }
	}
  }
</script>



</body>
</html>
  